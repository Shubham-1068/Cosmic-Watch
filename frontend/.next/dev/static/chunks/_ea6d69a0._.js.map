{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/lib/api.ts"],"sourcesContent":["/**\n * API Integration Module\n * Handles all communication with the backend running on localhost:8000\n */\n\nconst API_BASE_URL = 'http://localhost:8000'\n\n// Helper function for making authenticated requests\nasync function apiCall(\n  endpoint: string,\n  options: RequestInit = {}\n): Promise<Response> {\n  const token = localStorage.getItem('token')\n  const headers: HeadersInit = {\n    'Content-Type': 'application/json',\n    ...options.headers,\n  }\n\n  if (token) {\n    headers['Authorization'] = token\n  }\n\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      ...options,\n      headers,\n    })\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}))\n      throw new Error(errorData.message || `API error: ${response.status}`)\n    }\n\n    return response\n  } catch (error) {\n    console.error('[v0] API call failed:', {\n      endpoint,\n      error: error instanceof Error ? error.message : 'Unknown error',\n    })\n    throw error\n  }\n}\n\n/**\n * Authentication APIs\n */\nexport const authAPI = {\n  async register(data: { name: string; email: string; password: string }) {\n    const response = await fetch(`${API_BASE_URL}/auth/register`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data),\n    })\n    if (!response.ok) {\n      const errorData = await response.json()\n      throw new Error(errorData.message || 'Registration failed')\n    }\n    return response.json()\n  },\n\n  async login(data: { email: string; password: string }) {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data),\n    })\n    if (!response.ok) {\n      const errorData = await response.json()\n      throw new Error(errorData.message || 'Login failed')\n    }\n    return response.json()\n  },\n\n  logout() {\n    localStorage.removeItem('token')\n    localStorage.removeItem('userId')\n  },\n}\n\n/**\n * NEO Feed APIs\n */\nexport const feedAPI = {\n  async getAll() {\n    const response = await apiCall('/feed')\n    const data = await response.json()\n\n    // Normalize backend shapes:\n    // - Some backends return { near_earth_objects: [...] }\n    // - Others return an array of simplified objects\n    let items: any[] = []\n\n    if (Array.isArray(data)) {\n      items = data\n    } else if (data && Array.isArray(data.near_earth_objects)) {\n      items = data.near_earth_objects\n    }\n\n    // Map simplified backend fields to frontend expected NEO schema\n    const normalized = items.map(item => ({\n      id: item.id || item.neoId || String(item.id),\n      name: item.name || item.full_name || item.designation || 'Unknown',\n      estimatedDiameter: {\n        kilometers: {\n          estimated_diameter_min: item.estimated_diameter_min || item.diameter_km || 0,\n          estimated_diameter_max: item.estimated_diameter_max || item.diameter_km || item.estimated_diameter || 0,\n        },\n      },\n      close_approach_data: [\n        {\n          miss_distance: {\n            kilometers: item.miss_distance_km || item.close_approach_km || (item.miss_distance && item.miss_distance.kilometers) || '0',\n          },\n          relative_velocity: {\n            kilometers_per_second: item.velocity_kms || (item.relative_velocity && item.relative_velocity.kilometers_per_second) || '0',\n          },\n        },\n      ],\n      is_potentially_hazardous_asteroid: item.hazardous === true || item.is_potentially_hazardous_asteroid === true || item.hazardous === 'true' || false,\n      // keep raw fields for debugging/advanced uses\n      __raw: item,\n    }))\n\n    return { near_earth_objects: normalized }\n  },\n\n  async getById(neoId: string) {\n    const response = await apiCall(`/feed/${neoId}`)\n    const data = await response.json()\n\n    // If backend returns array or object, find matching id\n    const items = Array.isArray(data) ? data : data?.near_earth_objects || []\n    const found = items.find((i: any) => String(i.id) === String(neoId) || String(i.neoId) === String(neoId))\n\n    if (!found) return null\n\n    const normalized = {\n      id: found.id || found.neoId || String(found.id),\n      name: found.name || found.full_name || 'Unknown',\n      estimatedDiameter: {\n        kilometers: {\n          estimated_diameter_min: found.estimated_diameter_min || found.diameter_km || 0,\n          estimated_diameter_max: found.estimated_diameter_max || found.diameter_km || found.estimated_diameter || 0,\n        },\n      },\n      close_approach_data: [\n        {\n          miss_distance: { kilometers: found.miss_distance_km || '0' },\n          relative_velocity: { kilometers_per_second: found.velocity_kms || '0' },\n        },\n      ],\n      is_potentially_hazardous_asteroid: found.hazardous === true || found.is_potentially_hazardous_asteroid === true || false,\n      __raw: found,\n    }\n\n    return normalized\n  },\n}\n\n/**\n * Alerts/Watchlist APIs\n */\nexport const alertsAPI = {\n  async getWatchlist(): Promise<string[]> {\n    const response = await apiCall('/alerts/watchlist')\n    const data = await response.json()\n\n    if (Array.isArray(data)) {\n      return data\n        .map(item =>\n          typeof item === 'string' || typeof item === 'number'\n            ? String(item)\n            : String(item?.neoId || item?.asteroidId || item?.id || '')\n        )\n        .filter(id => id.length > 0)\n    }\n\n    const list =\n      data?.watchlist ||\n      data?.watched ||\n      data?.ids ||\n      data?.neoIds ||\n      []\n\n    return Array.isArray(list)\n      ? list\n          .map((item: any) =>\n            typeof item === 'string' || typeof item === 'number'\n              ? String(item)\n              : String(item?.neoId || item?.asteroidId || item?.id || '')\n          )\n          .filter((id: string) => id.length > 0)\n      : []\n  },\n  async addToWatchlist(\n    neoId: string,\n    alertDistanceKm = 20000000,\n    alertDaysBefore = 7\n  ) {\n    const response = await apiCall('/alerts/watch', {\n      method: 'POST',\n      body: JSON.stringify({ neoId, alertDistanceKm, alertDaysBefore }),\n    })\n    return response.json()\n  },\n\n  async removeFromWatchlist(neoId: string) {\n    const response = await apiCall(`/alerts/unwatch/${neoId}`, {\n      method: 'POST',\n    })\n    return response.json()\n  },\n\n  async getNotifications() {\n    const response = await apiCall('/alerts/notifications')\n    return response.json()\n  },\n\n  async markNotificationRead(notificationId: string) {\n    const response = await apiCall(`/alerts/notifications/${notificationId}/read`, {\n      method: 'POST',\n    })\n    return response.json()\n  },\n}\n\n/**\n * Data transformation helpers\n */\nexport const dataHelpers = {\n  /**\n   * Calculate hazard level based on asteroid properties\n   */\n  getHazardLevel(asteroid: {\n    is_potentially_hazardous_asteroid: boolean\n    estimatedDiameter?: {\n      kilometers?: {\n        estimated_diameter_max?: number\n      }\n    }\n    close_approach_data?: Array<{\n      miss_distance?: {\n        kilometers?: string\n      }\n    }>\n  }): 'low' | 'medium' | 'high' {\n    if (!asteroid.close_approach_data || asteroid.close_approach_data.length === 0) {\n      return 'low'\n    }\n\n    const distance = asteroid.close_approach_data[0].miss_distance?.kilometers\n      ? parseFloat(asteroid.close_approach_data[0].miss_distance.kilometers)\n      : Infinity\n    const diameter = asteroid.estimatedDiameter?.kilometers?.estimated_diameter_max || 0\n\n    if (asteroid.is_potentially_hazardous_asteroid && distance < 20000000) {\n      return 'high'\n    }\n    if (distance < 50000000 && diameter > 100) {\n      return 'medium'\n    }\n    return 'low'\n  },\n\n  /**\n   * Format distance in kilometers to millions of kilometers\n   */\n  formatDistance(kilometers: string | number): string {\n    const km = typeof kilometers === 'string' ? parseFloat(kilometers) : kilometers\n    const millions = km / 1000000\n    return `${millions.toFixed(2)} M km`\n  },\n\n  /**\n   * Format velocity from km/s\n   */\n  formatVelocity(kms: string | number): string {\n    const kmh = typeof kms === 'string' ? parseFloat(kms) * 3600 : kms * 3600\n    return `${(kmh / 3600).toFixed(2)} km/s`\n  },\n\n  /**\n   * Format diameter in kilometers\n   */\n  formatDiameter(km: number): string {\n    return `${km.toFixed(2)} km`\n  },\n\n  /**\n   * Parse close approach date\n   */\n  parseApproachDate(dateString: string): Date {\n    return new Date(dateString)\n  },\n\n  /**\n   * Get next closest approach\n   */\n  getNextCloseApproach(\n    closeApproachData: Array<{ close_approach_date: string }>\n  ): { close_approach_date: string } | null {\n    if (!closeApproachData || closeApproachData.length === 0) {\n      return null\n    }\n    return closeApproachData[0]\n  },\n}\n\n/**\n * Local storage helpers for persistent data\n */\nexport const storageHelpers = {\n  setToken(token: string) {\n    localStorage.setItem('token', token)\n  },\n\n  getToken(): string | null {\n    return localStorage.getItem('token')\n  },\n\n  setUserId(userId: string) {\n    localStorage.setItem('userId', userId)\n  },\n\n  getUserId(): string | null {\n    return localStorage.getItem('userId')\n  },\n\n  clearAuth() {\n    localStorage.removeItem('token')\n    localStorage.removeItem('userId')\n  },\n\n  isAuthenticated(): boolean {\n    return !!this.getToken()\n  },\n}\n\n/**\n * Validation helpers\n */\nexport const validationHelpers = {\n  isValidEmail(email: string): boolean {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    return emailRegex.test(email)\n  },\n\n  isValidPassword(password: string): boolean {\n    return password.length >= 6\n  },\n\n  isValidName(name: string): boolean {\n    return name.trim().length > 0\n  },\n\n  validateRegistration(data: {\n    name: string\n    email: string\n    password: string\n    confirmPassword: string\n  }): { valid: boolean; errors: string[] } {\n    const errors: string[] = []\n\n    if (!this.isValidName(data.name)) {\n      errors.push('Name is required')\n    }\n\n    if (!this.isValidEmail(data.email)) {\n      errors.push('Valid email is required')\n    }\n\n    if (!this.isValidPassword(data.password)) {\n      errors.push('Password must be at least 6 characters')\n    }\n\n    if (data.password !== data.confirmPassword) {\n      errors.push('Passwords do not match')\n    }\n\n    return {\n      valid: errors.length === 0,\n      errors,\n    }\n  },\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'rounded-lg border bg-card/30 text-card-foreground shadow-lg backdrop-blur-md border-border/20',\n      className,\n    )}\n    {...props}\n  />\n))\nCard.displayName = 'Card'\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\n    {...props}\n  />\n))\nCardHeader.displayName = 'CardHeader'\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'text-2xl font-semibold leading-none tracking-tight',\n      className,\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = 'CardTitle'\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nCardDescription.displayName = 'CardDescription'\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n))\nCardContent.displayName = 'CardContent'\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex items-center p-6 pt-0', className)}\n    {...props}\n  />\n))\nCardFooter.displayName = 'CardFooter'\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,iGACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline:\n          'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button'\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = 'Button'\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAUF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 495, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',\n        outline: 'text-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAQF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 543, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/FloatingNavbar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { Button } from '@/components/ui/button'\r\nimport { useState, ReactNode, useEffect } from 'react'\r\nimport { Menu, X } from 'lucide-react'\r\nimport { storageHelpers } from '@/lib/api'\r\n\r\nexport interface NavLink {\r\n    href: string\r\n    label: string\r\n}\r\n\r\nexport interface FloatingNavbarProps {\r\n    logoHref?: string\r\n    logoText?: string\r\n    logoAbbr?: string\r\n    navLinks?: NavLink[]\r\n    onLogout?: () => void | Promise<void>\r\n    position?: 'top' | 'bottom'\r\n    showLogout?: boolean\r\n    children?: ReactNode\r\n}\r\n\r\nexport default function FloatingNavbar({\r\n    logoHref = '/dashboard',\r\n    logoText = 'Cosmic Watch',\r\n    logoAbbr = 'CW',\r\n    navLinks = [\r\n        { href: '/dashboard', label: 'Dashboard' },\r\n        { href: '/analytics', label: 'Analytics' },\r\n        { href: '/watchlist', label: 'Watchlist' },\r\n    ],\r\n    onLogout,\r\n    position = 'top',\r\n    showLogout = true,\r\n    children,\r\n}: FloatingNavbarProps) {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const [isLoggingOut, setIsLoggingOut] = useState(false)\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setIsAuthenticated(storageHelpers.isAuthenticated())\r\n    }, [])\r\n\r\n    const handleLogout = async () => {\r\n        setIsLoggingOut(true)\r\n        try {\r\n            if (onLogout) {\r\n                await onLogout()\r\n            } else {\r\n                storageHelpers.clearAuth()\r\n                window.location.href = '/login'\r\n            }\r\n        } finally {\r\n            setIsLoggingOut(false)\r\n        }\r\n    }\r\n\r\n    const positionClasses =\r\n        position === 'bottom'\r\n            ? 'fixed bottom-4 left-0 right-0'\r\n            : 'fixed top-4 left-0 right-0'\r\n\r\n    return (\r\n        <nav className={`${positionClasses} z-50 px-4 sm:px-6`}>\r\n            <div className=\"mx-auto max-w-4xl\">\r\n                <div className=\"rounded-2xl border border-border bg-slate-800/50 sm:rounded-2xl sm:border-border/50\">\r\n                    {/* Main navbar content */}\r\n                    <div className=\"flex items-center justify-between px-4 py-3 sm:px-6\">\r\n                        {/* Logo */}\r\n                        <Link\r\n                            href={logoHref}\r\n                            className=\"flex items-center gap-2 flex-shrink-0\"\r\n                        >\r\n                            <div className=\"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden flex-shrink-0\">\r\n                                <img src=\"/images/logo.png\" alt=\"Logo\" className=\"w-full h-full object-contain\" />\r\n                            </div>\r\n                            <span className=\"hidden sm:block font-bold text-sm sm:text-base text-foreground\">\r\n                                {logoText}\r\n                            </span>\r\n                        </Link>\r\n\r\n                        {/* Desktop Navigation */}\r\n                        <div className=\"hidden md:flex items-center gap-1\">\r\n                            {navLinks.map((link) => (\r\n                                <Link\r\n                                    key={link.href}\r\n                                    href={link.href}\r\n                                    className=\"px-3 py-2 text-sm font-medium text-white rounded-md\"\r\n                                >\r\n                                    {link.label}\r\n                                </Link>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Desktop Actions */}\r\n                        <div className=\"hidden md:flex items-center gap-2\">\r\n                            {children}\r\n                            {showLogout && (\r\n                                isAuthenticated ? (\r\n                                    <Button\r\n                                        onClick={handleLogout}\r\n                                        disabled={isLoggingOut}\r\n                                        variant=\"ghost\"\r\n                                        size=\"sm\"\r\n                                        className=\"text-white hover:bg-transparent hover:text-white\"\r\n                                    >\r\n                                        {isLoggingOut ? 'Logging out...' : 'Logout'}\r\n                                    </Button>\r\n                                ) : (\r\n                                    <Link href=\"/login\">\r\n                                        <Button\r\n                                            variant=\"ghost\"\r\n                                            size=\"sm\"\r\n                                            className=\"text-white\"\r\n                                        >\r\n                                            Login\r\n                                        </Button>\r\n                                    </Link>\r\n                                )\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Mobile Menu Toggle */}\r\n                        <button\r\n                            onClick={() => setIsOpen(!isOpen)}\r\n                            className=\"md:hidden p-2 rounded-md text-foreground\"\r\n                            aria-label={isOpen ? 'Close menu' : 'Open menu'}\r\n                            aria-expanded={isOpen}\r\n                        >\r\n                            {isOpen ? (\r\n                                <X className=\"h-5 w-5\" />\r\n                            ) : (\r\n                                <Menu className=\"h-5 w-5\" />\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Mobile Menu Dropdown */}\r\n                    {isOpen && (\r\n                        <div className=\"md:hidden border-t border-border/50 bg-slate-900/90 rounded-b-lg overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                            <div className=\"px-4 py-3 space-y-2 text-center\">\r\n                                {navLinks.map((link) => (\r\n                                    <Link\r\n                                        key={link.href}\r\n                                        href={link.href}\r\n                                        className=\"block px-3 py-2 text-md font-medium  rounded-md\"\r\n                                        onClick={() => setIsOpen(false)}\r\n                                    >\r\n                                        {link.label}\r\n                                    </Link>\r\n                                ))}\r\n                                {(children || showLogout) && (\r\n                                    <div className=\"pt-2 border-t border-border/30 flex flex-col items-center gap-2 fl\">\r\n                                        {children}\r\n                                        {showLogout && (\r\n                                            isAuthenticated ? (\r\n                                                <Button\r\n                                                    onClick={() => {\r\n                                                        handleLogout()\r\n                                                        setIsOpen(false)\r\n                                                    }}\r\n                                                    disabled={isLoggingOut}\r\n                                                    variant=\"ghost\"\r\n                                                    className=\"w-full justify-center text-destructive border border-destructive/30 bg-destructive/15\"\r\n                                                >\r\n                                                    {isLoggingOut ? 'Logging out...' : 'Logout'}\r\n                                                </Button>\r\n                                            ) : (\r\n                                                <Link href=\"/login\" onClick={() => setIsOpen(false)} className=\"w-full\">\r\n                                                    <Button\r\n                                                        variant=\"ghost\"\r\n                                                        className=\"w-full justify-center text-primary border border-primary/30 bg-primary/15\"\r\n                                                    >\r\n                                                        Login\r\n                                                    </Button>\r\n                                                </Link>\r\n                                            )\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 821, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/app/watchlist/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useMemo, useState } from 'react'\nimport { alertsAPI, feedAPI } from '@/lib/api'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport FloatingNavbar from '@/components/FloatingNavbar'\nimport Link from 'next/link'\n\ninterface WatchedAsteroid {\n  id: string\n  name: string\n  estimatedDiameter: {\n    kilometers: {\n      estimated_diameter_max: number\n    }\n  }\n  close_approach_data: Array<{\n    miss_distance: {\n      kilometers: string\n    }\n    relative_velocity: {\n      kilometers_per_second: string\n    }\n  }>\n  is_potentially_hazardous_asteroid: boolean\n}\n\nexport default function WatchlistPage() {\n  const [watched, setWatched] = useState<WatchedAsteroid[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    if (!token) {\n      window.location.href = '/login'\n      return\n    }\n\n    loadWatchlist()\n  }, [])\n\n  const loadWatchlist = async () => {\n    try {\n      setIsLoading(true)\n      const [watchlistIds, feed] = await Promise.all([\n        alertsAPI.getWatchlist(),\n        feedAPI.getAll(),\n      ])\n      const idSet = new Set(watchlistIds.map(id => String(id)))\n      const items = (feed.near_earth_objects || []).filter((asteroid: WatchedAsteroid) =>\n        idSet.has(String(asteroid.id))\n      )\n      setWatched(items)\n    } catch (err) {\n      console.error('[v0] Watchlist error:', err)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const removeFromWatchlist = async (asteroidId: string) => {\n    try {\n      await alertsAPI.removeFromWatchlist(asteroidId)\n      setWatched(prev => prev.filter(a => a.id !== asteroidId))\n    } catch (err) {\n      console.error('[v0] Remove from watchlist error:', err)\n    }\n  }\n\n  const getHazardLevel = (asteroid: WatchedAsteroid): 'low' | 'medium' | 'high' => {\n    if (!asteroid.close_approach_data || asteroid.close_approach_data.length === 0) {\n      return 'low'\n    }\n\n    const distance = parseFloat(asteroid.close_approach_data[0].miss_distance.kilometers)\n    const diameter = asteroid.estimatedDiameter?.kilometers?.estimated_diameter_max || 0\n\n    if (asteroid.is_potentially_hazardous_asteroid && distance < 20000000) {\n      return 'high'\n    }\n    if (distance < 50000000 && diameter > 100) {\n      return 'medium'\n    }\n    return 'low'\n  }\n\n  const hazardColors = {\n    low: 'bg-secondary/20 text-secondary border-secondary/30',\n    medium: 'bg-accent/20 text-accent border-accent/30',\n    high: 'bg-destructive/20 text-destructive border-destructive/30',\n  }\n\n  const hazardLabels = {\n    low: 'Low Risk',\n    medium: 'Medium Risk',\n    high: 'High Risk',\n  }\n\n  const summary = useMemo(() => {\n    const hazardous = watched.filter(a => a.is_potentially_hazardous_asteroid).length\n    const highRisk = watched.filter(a => getHazardLevel(a) === 'high').length\n    const closest = watched\n      .map(a => parseFloat(a.close_approach_data?.[0]?.miss_distance?.kilometers || '0'))\n      .filter(d => Number.isFinite(d) && d > 0)\n      .sort((a, b) => a - b)[0]\n\n    return {\n      total: watched.length,\n      hazardous,\n      highRisk,\n      closest: closest ? `${(closest / 1000000).toFixed(2)} M km` : 'N/A',\n    }\n  }, [watched])\n\n  return (\n    <div className=\"min-h-screen relative overflow-hidden bg-gradient-to-b from-background via-background to-slate-950/40 p-6 lg:p-8 pt-24\">\n      <FloatingNavbar />\n\n      <div className=\"pointer-events-none absolute inset-0\">\n        <div className=\"absolute -top-32 right-10 h-64 w-64 rounded-full bg-primary/10 blur-3xl\" />\n        <div className=\"absolute bottom-0 left-8 h-72 w-72 rounded-full bg-secondary/10 blur-3xl\" />\n        <div className=\"absolute top-1/3 left-1/2 h-56 w-56 rounded-full bg-accent/10 blur-3xl\" />\n      </div>\n\n      <div className=\"relative z-10\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-4xl font-bold text-white mb-2\">\n                Watchlist Control\n              </h1>\n              <p className=\"text-slate-300\">Track high-interest objects and response readiness.</p>\n            </div>\n          </div>\n        </div>\n\n        {!isLoading && watched.length > 0 && (\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n            {[\n              { label: 'Total Objects', value: summary.total },\n              { label: 'Hazardous', value: summary.hazardous },\n              { label: 'High Risk', value: summary.highRisk },\n              { label: 'Closest Pass', value: summary.closest },\n            ].map((item) => (\n              <Card key={item.label} className=\"border-primary/20 bg-card/60 backdrop-blur\">\n                <CardContent className=\"p-4\">\n                  <p className=\"text-xs text-muted-foreground mb-1\">{item.label}</p>\n                  <p className=\"text-lg font-semibold text-foreground\">{item.value}</p>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        )}\n\n        {/* Content */}\n        {isLoading ? (\n          <div className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">Loading watchlist...</p>\n          </div>\n        ) : watched.length === 0 ? (\n          <Card className=\"border-primary/20 bg-card/60 backdrop-blur\">\n            <CardContent className=\"py-12 text-center\">\n              <p className=\"text-muted-foreground mb-4\">No asteroids in your watchlist</p>\n              <Link href=\"/dashboard\">\n                <Button className=\"bg-primary hover:bg-primary/90 text-primary-foreground\">\n                  Go to Dashboard\n                </Button>\n              </Link>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"grid gap-4\">\n            {watched.map(asteroid => {\n              const hazardLevel = getHazardLevel(asteroid)\n\n              return (\n                <Card\n                  key={asteroid.id}\n                  className=\"border-primary/20 bg-card/60 backdrop-blur hover:border-primary/40 transition-colors\"\n                >\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <h3 className=\"text-lg font-semibold text-foreground mb-3\">{asteroid.name}</h3>\n\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n                          <div>\n                            <p className=\"text-xs text-muted-foreground mb-1\">Diameter</p>\n                            <p className=\"text-sm font-medium text-foreground\">\n                              {asteroid.estimatedDiameter?.kilometers?.estimated_diameter_max?.toFixed(2) || 'N/A'} km\n                            </p>\n                          </div>\n\n                          <div>\n                            <p className=\"text-xs text-muted-foreground mb-1\">Distance</p>\n                            <p className=\"text-sm font-medium text-foreground\">\n                              {asteroid.close_approach_data?.[0]?.miss_distance?.kilometers\n                                ? `${(parseFloat(asteroid.close_approach_data[0].miss_distance.kilometers) / 1000000).toFixed(2)} M km`\n                                : 'N/A'}\n                            </p>\n                          </div>\n\n                          <div>\n                            <p className=\"text-xs text-muted-foreground mb-1\">Velocity</p>\n                            <p className=\"text-sm font-medium text-foreground\">\n                              {asteroid.close_approach_data?.[0]?.relative_velocity?.kilometers_per_second\n                                ? `${parseFloat(asteroid.close_approach_data[0].relative_velocity.kilometers_per_second).toFixed(2)} km/s`\n                                : 'N/A'}\n                            </p>\n                          </div>\n\n                          <div>\n                            <p className=\"text-xs text-muted-foreground mb-1\">Status</p>\n                            <Badge\n                              variant=\"outline\"\n                              className={hazardColors[hazardLevel]}\n                            >\n                              {hazardLabels[hazardLevel]}\n                            </Badge>\n                          </div>\n                        </div>\n\n                        <div className=\"flex gap-2\">\n                          {asteroid.is_potentially_hazardous_asteroid && (\n                            <Badge variant=\"outline\" className=\"border-destructive/30 bg-destructive/10 text-destructive\">\n                              Hazardous\n                            </Badge>\n                          )}\n                        </div>\n                      </div>\n\n                      <Button\n                        onClick={() => removeFromWatchlist(asteroid.id)}\n                        variant=\"outline\"\n                        className=\"border-destructive/30 text-destructive hover:bg-destructive/10 ml-4 shrink-0\"\n                      >\n                        Remove\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              )\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}
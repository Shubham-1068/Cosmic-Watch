{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline:\n          'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button'\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = 'Button'\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAUF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/FloatingNavbar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { Button } from '@/components/ui/button'\r\nimport { useState, ReactNode, useEffect } from 'react'\r\nimport { Menu, X } from 'lucide-react'\r\nimport { storageHelpers } from '@/lib/api'\r\n\r\nexport interface NavLink {\r\n    href: string\r\n    label: string\r\n}\r\n\r\nexport interface FloatingNavbarProps {\r\n    logoHref?: string\r\n    logoText?: string\r\n    logoAbbr?: string\r\n    navLinks?: NavLink[]\r\n    onLogout?: () => void | Promise<void>\r\n    position?: 'top' | 'bottom'\r\n    showLogout?: boolean\r\n    children?: ReactNode\r\n}\r\n\r\nexport default function FloatingNavbar({\r\n    logoHref = '/dashboard',\r\n    logoText = 'Cosmic Watch',\r\n    logoAbbr = 'CW',\r\n    navLinks = [\r\n        { href: '/dashboard', label: 'Dashboard' },\r\n        { href: '/analytics', label: 'Analytics' },\r\n        { href: '/watchlist', label: 'Watchlist' },\r\n        { href: '/community', label: 'Community' },\r\n    ],\r\n    onLogout,\r\n    position = 'top',\r\n    showLogout = true,\r\n    children,\r\n}: FloatingNavbarProps) {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const [isLoggingOut, setIsLoggingOut] = useState(false)\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setIsAuthenticated(storageHelpers.isAuthenticated())\r\n    }, [])\r\n\r\n    const handleLogout = async () => {\r\n        setIsLoggingOut(true)\r\n        try {\r\n            if (onLogout) {\r\n                await onLogout()\r\n            } else {\r\n                storageHelpers.clearAuth()\r\n                window.location.href = '/login'\r\n            }\r\n        } finally {\r\n            setIsLoggingOut(false)\r\n        }\r\n    }\r\n\r\n    const positionClasses =\r\n        position === 'bottom'\r\n            ? 'fixed bottom-4 left-0 right-0'\r\n            : 'fixed top-4 left-0 right-0'\r\n\r\n    return (\r\n        <nav className={`${positionClasses} z-50 px-4 sm:px-6`}>\r\n            <div className=\"mx-auto max-w-4xl\">\r\n                <div className=\"rounded-2xl border border-border bg-slate-800/50 sm:rounded-2xl sm:border-border/50\">\r\n                    {/* Main navbar content */}\r\n                    <div className=\"flex items-center justify-between px-4 py-3 sm:px-6\">\r\n                        {/* Logo */}\r\n                        <Link\r\n                            href={logoHref}\r\n                            className=\"flex items-center gap-2 flex-shrink-0\"\r\n                        >\r\n                            <div className=\"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden flex-shrink-0\">\r\n                                <img src=\"/images/logo.png\" alt=\"Logo\" className=\"w-full h-full object-contain\" />\r\n                            </div>\r\n                            <span className=\"hidden sm:block font-bold text-sm sm:text-base text-foreground\">\r\n                                {logoText}\r\n                            </span>\r\n                        </Link>\r\n\r\n                        {/* Desktop Navigation */}\r\n                        <div className=\"hidden md:flex items-center gap-1\">\r\n                            {navLinks.map((link) => (\r\n                                <Link\r\n                                    key={link.href}\r\n                                    href={link.href}\r\n                                    className=\"px-3 py-2 text-sm font-medium text-white rounded-md\"\r\n                                >\r\n                                    {link.label}\r\n                                </Link>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Desktop Actions */}\r\n                        <div className=\"hidden md:flex items-center gap-2\">\r\n                            {children}\r\n                            {showLogout && (\r\n                                isAuthenticated ? (\r\n                                    <Button\r\n                                        onClick={handleLogout}\r\n                                        disabled={isLoggingOut}\r\n                                        variant=\"ghost\"\r\n                                        size=\"sm\"\r\n                                        className=\"text-white hover:bg-transparent hover:text-white\"\r\n                                    >\r\n                                        {isLoggingOut ? 'Logging out...' : 'Logout'}\r\n                                    </Button>\r\n                                ) : (\r\n                                    <Link href=\"/login\">\r\n                                        <Button\r\n                                            variant=\"ghost\"\r\n                                            size=\"sm\"\r\n                                            className=\"text-white\"\r\n                                        >\r\n                                            Login\r\n                                        </Button>\r\n                                    </Link>\r\n                                )\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Mobile Menu Toggle */}\r\n                        <button\r\n                            onClick={() => setIsOpen(!isOpen)}\r\n                            className=\"md:hidden p-2 rounded-md text-foreground\"\r\n                            aria-label={isOpen ? 'Close menu' : 'Open menu'}\r\n                            aria-expanded={isOpen}\r\n                        >\r\n                            {isOpen ? (\r\n                                <X className=\"h-5 w-5\" />\r\n                            ) : (\r\n                                <Menu className=\"h-5 w-5\" />\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Mobile Menu Dropdown */}\r\n                    {isOpen && (\r\n                        <div className=\"md:hidden border-t border-border/50 bg-slate-900/90 rounded-b-lg overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                            <div className=\"px-4 py-3 space-y-2 text-center\">\r\n                                {navLinks.map((link) => (\r\n                                    <Link\r\n                                        key={link.href}\r\n                                        href={link.href}\r\n                                        className=\"block px-3 py-2 text-md font-medium  rounded-md\"\r\n                                        onClick={() => setIsOpen(false)}\r\n                                    >\r\n                                        {link.label}\r\n                                    </Link>\r\n                                ))}\r\n                                {(children || showLogout) && (\r\n                                    <div className=\"pt-2 border-t border-border/30 flex flex-col items-center gap-2 fl\">\r\n                                        {children}\r\n                                        {showLogout && (\r\n                                            isAuthenticated ? (\r\n                                                <Button\r\n                                                    onClick={() => {\r\n                                                        handleLogout()\r\n                                                        setIsOpen(false)\r\n                                                    }}\r\n                                                    disabled={isLoggingOut}\r\n                                                    variant=\"ghost\"\r\n                                                    className=\"w-full justify-center text-destructive border border-destructive/30 bg-destructive/15\"\r\n                                                >\r\n                                                    {isLoggingOut ? 'Logging out...' : 'Logout'}\r\n                                                </Button>\r\n                                            ) : (\r\n                                                <Link href=\"/login\" onClick={() => setIsOpen(false)} className=\"w-full\">\r\n                                                    <Button\r\n                                                        variant=\"ghost\"\r\n                                                        className=\"w-full justify-center text-primary border border-primary/30 bg-primary/15\"\r\n                                                    >\r\n                                                        Login\r\n                                                    </Button>\r\n                                                </Link>\r\n                                            )\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AANA;;;;;;;AAwBe,SAAS,eAAe,EACnC,WAAW,YAAY,EACvB,WAAW,cAAc,EACzB,WAAW,IAAI,EACf,WAAW;IACP;QAAE,MAAM;QAAc,OAAO;IAAY;IACzC;QAAE,MAAM;QAAc,OAAO;IAAY;IACzC;QAAE,MAAM;QAAc,OAAO;IAAY;IACzC;QAAE,MAAM;QAAc,OAAO;IAAY;CAC5C,EACD,QAAQ,EACR,WAAW,KAAK,EAChB,aAAa,IAAI,EACjB,QAAQ,EACU;IAClB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IAEvD,IAAA,kNAAS,EAAC;QACN,mBAAmB,4HAAc,CAAC,eAAe;IACrD,GAAG,EAAE;IAEL,MAAM,eAAe;QACjB,gBAAgB;QAChB,IAAI;YACA,IAAI,UAAU;gBACV,MAAM;YACV,OAAO;gBACH,4HAAc,CAAC,SAAS;gBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;YAC3B;QACJ,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,MAAM,kBACF,aAAa,WACP,kCACA;IAEV,qBACI,8OAAC;QAAI,WAAW,GAAG,gBAAgB,kBAAkB,CAAC;kBAClD,cAAA,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAI,WAAU;;0CAEX,8OAAC,uKAAI;gCACD,MAAM;gCACN,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC;4CAAI,KAAI;4CAAmB,KAAI;4CAAO,WAAU;;;;;;;;;;;kDAErD,8OAAC;wCAAK,WAAU;kDACX;;;;;;;;;;;;0CAKT,8OAAC;gCAAI,WAAU;0CACV,SAAS,GAAG,CAAC,CAAC,qBACX,8OAAC,uKAAI;wCAED,MAAM,KAAK,IAAI;wCACf,WAAU;kDAET,KAAK,KAAK;uCAJN,KAAK,IAAI;;;;;;;;;;0CAU1B,8OAAC;gCAAI,WAAU;;oCACV;oCACA,cAAc,CACX,gCACI,8OAAC,qIAAM;wCACH,SAAS;wCACT,UAAU;wCACV,SAAQ;wCACR,MAAK;wCACL,WAAU;kDAET,eAAe,mBAAmB;;;;;6DAGvC,8OAAC,uKAAI;wCAAC,MAAK;kDACP,cAAA,8OAAC,qIAAM;4CACH,SAAQ;4CACR,MAAK;4CACL,WAAU;sDACb;;;;;;;;;;4CAKb;;;;;;;0CAIJ,8OAAC;gCACG,SAAS,IAAM,UAAU,CAAC;gCAC1B,WAAU;gCACV,cAAY,SAAS,eAAe;gCACpC,iBAAe;0CAEd,uBACG,8OAAC,iMAAC;oCAAC,WAAU;;;;;yDAEb,8OAAC,0MAAI;oCAAC,WAAU;;;;;;;;;;;;;;;;;oBAM3B,wBACG,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAI,WAAU;;gCACV,SAAS,GAAG,CAAC,CAAC,qBACX,8OAAC,uKAAI;wCAED,MAAM,KAAK,IAAI;wCACf,WAAU;wCACV,SAAS,IAAM,UAAU;kDAExB,KAAK,KAAK;uCALN,KAAK,IAAI;;;;;gCAQrB,CAAC,YAAY,UAAU,mBACpB,8OAAC;oCAAI,WAAU;;wCACV;wCACA,cAAc,CACX,gCACI,8OAAC,qIAAM;4CACH,SAAS;gDACL;gDACA,UAAU;4CACd;4CACA,UAAU;4CACV,SAAQ;4CACR,WAAU;sDAET,eAAe,mBAAmB;;;;;iEAGvC,8OAAC,uKAAI;4CAAC,MAAK;4CAAS,SAAS,IAAM,UAAU;4CAAQ,WAAU;sDAC3D,cAAA,8OAAC,qIAAM;gDACH,SAAQ;gDACR,WAAU;0DACb;;;;;;;;;;gDAKb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUxC"}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',\n        outline: 'text-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAQF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE"}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<'textarea'>\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = 'Textarea'\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 422, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/CommunityChat.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useMemo, useRef, useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { chatAPI, storageHelpers } from '@/lib/api'\r\nimport FloatingNavbar from '@/components/FloatingNavbar'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Send, MessageCircle, Hash } from 'lucide-react'\r\n\r\ninterface Channel {\r\n  id: string\r\n  name: string\r\n  neoId: string | null\r\n  count: number\r\n  lastMessageAt: string | null\r\n}\r\n\r\ninterface ChatMessage {\r\n  id: string\r\n  userId: string\r\n  username: string\r\n  message: string\r\n  neoId: string | null\r\n  createdAt: string\r\n}\r\n\r\nconst POLL_INTERVAL_MS = 5000\r\n\r\nexport default function CommunityChat() {\r\n  const router = useRouter()\r\n  const [channels, setChannels] = useState<Channel[]>([])\r\n  const [activeChannelId, setActiveChannelId] = useState('global')\r\n  const [messages, setMessages] = useState<ChatMessage[]>([])\r\n  const [draft, setDraft] = useState('')\r\n  const [isLoadingChannels, setIsLoadingChannels] = useState(true)\r\n  const [isLoadingMessages, setIsLoadingMessages] = useState(true)\r\n  const [isSending, setIsSending] = useState(false)\r\n  const [error, setError] = useState('')\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\r\n  const bottomRef = useRef<HTMLDivElement | null>(null)\r\n\r\n  const activeChannel = useMemo(\r\n    () => channels.find((channel) => channel.id === activeChannelId),\r\n    [channels, activeChannelId]\r\n  )\r\n\r\n  useEffect(() => {\r\n    const token = storageHelpers.getToken()\r\n    if (!token) {\r\n      setIsAuthenticated(false)\r\n      router.push('/login')\r\n      return\r\n    }\r\n    setIsAuthenticated(true)\r\n  }, [router])\r\n\r\n  const loadChannels = async () => {\r\n    try {\r\n      setIsLoadingChannels(true)\r\n      const data = await chatAPI.getChannels()\r\n      setChannels(data.channels || [])\r\n      setError('')\r\n    } catch (err) {\r\n      setError('Failed to load channels')\r\n    } finally {\r\n      setIsLoadingChannels(false)\r\n    }\r\n  }\r\n\r\n  const loadMessages = async (neoId: string | null) => {\r\n    try {\r\n      setIsLoadingMessages(true)\r\n      const data = await chatAPI.getMessages({ neoId })\r\n      setMessages(data.messages || [])\r\n      setError('')\r\n    } catch (err) {\r\n      setError('Failed to load messages')\r\n    } finally {\r\n      setIsLoadingMessages(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      setChannels([])\r\n      setIsLoadingChannels(false)\r\n      return\r\n    }\r\n\r\n    loadChannels()\r\n  }, [isAuthenticated])\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      setMessages([])\r\n      setIsLoadingMessages(false)\r\n      return\r\n    }\r\n\r\n    if (!activeChannel) {\r\n      setMessages([])\r\n      return\r\n    }\r\n\r\n    let isActive = true\r\n\r\n    const fetchMessages = async () => {\r\n      try {\r\n        const data = await chatAPI.getMessages({ neoId: activeChannel.neoId })\r\n        if (isActive) {\r\n          setMessages(data.messages || [])\r\n        }\r\n      } catch (err) {\r\n        if (isActive) {\r\n          setError('Failed to load messages')\r\n        }\r\n      } finally {\r\n        if (isActive) {\r\n          setIsLoadingMessages(false)\r\n        }\r\n      }\r\n    }\r\n\r\n    setIsLoadingMessages(true)\r\n    fetchMessages()\r\n    const interval = window.setInterval(fetchMessages, POLL_INTERVAL_MS)\r\n\r\n    return () => {\r\n      isActive = false\r\n      window.clearInterval(interval)\r\n    }\r\n  }, [activeChannel, isAuthenticated])\r\n\r\n  useEffect(() => {\r\n    bottomRef.current?.scrollIntoView({ behavior: 'smooth' })\r\n  }, [messages.length])\r\n\r\n  const handleSend = async () => {\r\n    if (!activeChannel || !draft.trim()) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      setIsSending(true)\r\n      await chatAPI.sendMessage({\r\n        message: draft.trim(),\r\n        neoId: activeChannel.neoId,\r\n      })\r\n      setDraft('')\r\n      await Promise.all([loadMessages(activeChannel.neoId), loadChannels()])\r\n    } catch (err) {\r\n      setError('Failed to send message')\r\n    } finally {\r\n      setIsSending(false)\r\n    }\r\n  }\r\n\r\n  const currentUserId = storageHelpers.getUserId()\r\n\r\n  return (\r\n    <div className=\"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-10 relative overflow-hidden\">\r\n      <div className=\"pointer-events-none absolute inset-0\">\r\n        <div className=\"absolute -top-32 left-1/2 h-64 w-[36rem] -translate-x-1/2 rounded-full bg-cyan-500/20 blur-3xl\" />\r\n        <div className=\"absolute bottom-10 right-10 h-48 w-48 rounded-full bg-emerald-500/20 blur-2xl\" />\r\n        <div className=\"absolute top-20 left-12 h-28 w-28 rounded-full bg-orange-400/15 blur-2xl\" />\r\n      </div>\r\n\r\n      <FloatingNavbar\r\n        navLinks={[\r\n          { href: '/dashboard', label: 'Dashboard' },\r\n          { href: '/analytics', label: 'Analytics' },\r\n          { href: '/watchlist', label: 'Watchlist' },\r\n          { href: '/community', label: 'Community' },\r\n        ]}\r\n      />\r\n\r\n      <div className=\"relative mt-5 z-10 max-w-6xl mx-auto\">\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex flex-wrap items-center gap-3\">\r\n            <div className=\"flex h-12 w-12 items-center justify-center rounded-2xl bg-cyan-500/15 text-cyan-200\">\r\n              <MessageCircle className=\"h-6 w-6\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-3xl sm:text-4xl font-semibold text-white\">Community Comms Hub</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n          <Card className=\"lg:col-span-1 glass-strong border-cyan-400/20 bg-slate-900/70\">\r\n            <CardHeader className=\"pb-4\">\r\n              <CardTitle className=\"text-lg text-cyan-200 flex items-center gap-2\">\r\n                <Hash className=\"h-4 w-4\" />\r\n                Channels\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-3\">\r\n              {isLoadingChannels ? (\r\n                <div className=\"text-sm text-slate-400\">Loading channels...</div>\r\n              ) : channels.length === 0 ? (\r\n                <div className=\"text-sm text-slate-400\">No channels yet. Start the first thread.</div>\r\n              ) : (\r\n                channels.map((channel) => (\r\n                  <button\r\n                    key={channel.id}\r\n                    onClick={() => setActiveChannelId(channel.id)}\r\n                    className={`w-full rounded-xl px-3 py-2 text-left transition ${\r\n                      activeChannelId === channel.id\r\n                        ? 'bg-cyan-500/15 text-cyan-100 border border-cyan-400/30'\r\n                        : 'bg-slate-800/40 text-slate-200 hover:bg-slate-800/70'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center justify-between gap-2\">\r\n                      <div>\r\n                        <div className=\"font-medium text-sm\">{channel.name}</div>\r\n                        <div className=\"text-xs text-slate-400\">\r\n                          {channel.neoId ? `Asteroid ${channel.neoId}` : 'Global channel'}\r\n                        </div>\r\n                      </div>\r\n                      <Badge className=\"bg-slate-800/80 text-slate-200 border border-slate-700\">\r\n                        {channel.count}\r\n                      </Badge>\r\n                    </div>\r\n                  </button>\r\n                ))\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card className=\"lg:col-span-3 glass-strong border-emerald-400/20 bg-slate-900/70\">\r\n            <CardHeader className=\"pb-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <CardTitle className=\"text-lg text-emerald-200\">\r\n                  {activeChannel?.name || 'Channel'}\r\n                </CardTitle>\r\n                {activeChannel?.neoId && (\r\n                  <Badge className=\"bg-emerald-500/15 text-emerald-200 border border-emerald-400/30\">\r\n                    Neo {activeChannel.neoId}\r\n                  </Badge>\r\n                )}\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"flex flex-col h-[560px]\">\r\n              <div className=\"flex-1 overflow-y-auto rounded-2xl border border-slate-800/80 bg-slate-950/60 p-4\">\r\n                {isLoadingMessages ? (\r\n                  <div className=\"text-sm text-slate-400\">Loading messages...</div>\r\n                ) : messages.length === 0 ? (\r\n                  <div className=\"text-sm text-slate-400\">No messages yet. Start the conversation.</div>\r\n                ) : (\r\n                  <div className=\"space-y-4\">\r\n                    {messages.map((message) => {\r\n                      const isSelf = currentUserId && message.userId === currentUserId\r\n                      return (\r\n                        <div\r\n                          key={message.id}\r\n                          className={`max-w-[85%] rounded-2xl px-4 py-3 text-sm shadow-lg ${\r\n                            isSelf\r\n                              ? 'ml-auto bg-cyan-500/20 text-cyan-100 border border-cyan-400/30'\r\n                              : 'bg-slate-800/70 text-slate-100 border border-slate-700'\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-center justify-between gap-2 mb-2 text-xs text-slate-300\">\r\n                            <span className=\"font-medium text-slate-200\">{message.username}</span>\r\n                            <span>\r\n                              {new Date(message.createdAt).toLocaleTimeString([], {\r\n                                hour: '2-digit',\r\n                                minute: '2-digit',\r\n                              })}\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"leading-relaxed whitespace-pre-wrap\">{message.message}</p>\r\n                        </div>\r\n                      )\r\n                    })}\r\n                    <div ref={bottomRef} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"mt-4\">\r\n                <div className=\"rounded-2xl border border-slate-800/80 bg-slate-950/70 p-3\">\r\n                  <Textarea\r\n                    value={draft}\r\n                    onChange={(event) => setDraft(event.target.value)}\r\n                    placeholder=\"Share updates, sightings, or a quick hello...\"\r\n                    className=\"min-h-[100px] resize-none border-0 bg-transparent text-slate-100 placeholder:text-slate-500 focus-visible:ring-0\"\r\n                    onKeyDown={(event) => {\r\n                      if (event.key === 'Enter' && (event.metaKey || event.ctrlKey)) {\r\n                        event.preventDefault()\r\n                        handleSend()\r\n                      }\r\n                    }}\r\n                  />\r\n                  <div className=\"mt-3 flex items-center justify-between text-xs text-slate-400\">\r\n                    <span></span>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      disabled={isSending || !draft.trim()}\r\n                      onClick={handleSend}\r\n                      className=\"bg-cyan-500/90 text-slate-950 hover:bg-cyan-400\"\r\n                    >\r\n                      <Send className=\"mr-2 h-4 w-4\" />\r\n                      {isSending ? 'Sending...' : 'Send'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                {error && (\r\n                  <div className=\"mt-3 text-sm text-red-300\">{error}</div>\r\n                )}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAVA;;;;;;;;;;;AA6BA,MAAM,mBAAmB;AAEV,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB,EAAE;IAC1D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,YAAY,IAAA,+MAAM,EAAwB;IAEhD,MAAM,gBAAgB,IAAA,gNAAO,EAC3B,IAAM,SAAS,IAAI,CAAC,CAAC,UAAY,QAAQ,EAAE,KAAK,kBAChD;QAAC;QAAU;KAAgB;IAG7B,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,4HAAc,CAAC,QAAQ;QACrC,IAAI,CAAC,OAAO;YACV,mBAAmB;YACnB,OAAO,IAAI,CAAC;YACZ;QACF;QACA,mBAAmB;IACrB,GAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACnB,IAAI;YACF,qBAAqB;YACrB,MAAM,OAAO,MAAM,qHAAO,CAAC,WAAW;YACtC,YAAY,KAAK,QAAQ,IAAI,EAAE;YAC/B,SAAS;QACX,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,qBAAqB;QACvB;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,qBAAqB;YACrB,MAAM,OAAO,MAAM,qHAAO,CAAC,WAAW,CAAC;gBAAE;YAAM;YAC/C,YAAY,KAAK,QAAQ,IAAI,EAAE;YAC/B,SAAS;QACX,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,qBAAqB;QACvB;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,iBAAiB;YACpB,YAAY,EAAE;YACd,qBAAqB;YACrB;QACF;QAEA;IACF,GAAG;QAAC;KAAgB;IAEpB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,iBAAiB;YACpB,YAAY,EAAE;YACd,qBAAqB;YACrB;QACF;QAEA,IAAI,CAAC,eAAe;YAClB,YAAY,EAAE;YACd;QACF;QAEA,IAAI,WAAW;QAEf,MAAM,gBAAgB;YACpB,IAAI;gBACF,MAAM,OAAO,MAAM,qHAAO,CAAC,WAAW,CAAC;oBAAE,OAAO,cAAc,KAAK;gBAAC;gBACpE,IAAI,UAAU;oBACZ,YAAY,KAAK,QAAQ,IAAI,EAAE;gBACjC;YACF,EAAE,OAAO,KAAK;gBACZ,IAAI,UAAU;oBACZ,SAAS;gBACX;YACF,SAAU;gBACR,IAAI,UAAU;oBACZ,qBAAqB;gBACvB;YACF;QACF;QAEA,qBAAqB;QACrB;QACA,MAAM,WAAW,OAAO,WAAW,CAAC,eAAe;QAEnD,OAAO;YACL,WAAW;YACX,OAAO,aAAa,CAAC;QACvB;IACF,GAAG;QAAC;QAAe;KAAgB;IAEnC,IAAA,kNAAS,EAAC;QACR,UAAU,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IACzD,GAAG;QAAC,SAAS,MAAM;KAAC;IAEpB,MAAM,aAAa;QACjB,IAAI,CAAC,iBAAiB,CAAC,MAAM,IAAI,IAAI;YACnC;QACF;QAEA,IAAI;YACF,aAAa;YACb,MAAM,qHAAO,CAAC,WAAW,CAAC;gBACxB,SAAS,MAAM,IAAI;gBACnB,OAAO,cAAc,KAAK;YAC5B;YACA,SAAS;YACT,MAAM,QAAQ,GAAG,CAAC;gBAAC,aAAa,cAAc,KAAK;gBAAG;aAAe;QACvE,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,gBAAgB,4HAAc,CAAC,SAAS;IAE9C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAGjB,8OAAC,wIAAc;gBACb,UAAU;oBACR;wBAAE,MAAM;wBAAc,OAAO;oBAAY;oBACzC;wBAAE,MAAM;wBAAc,OAAO;oBAAY;oBACzC;wBAAE,MAAM;wBAAc,OAAO;oBAAY;oBACzC;wBAAE,MAAM;wBAAc,OAAO;oBAAY;iBAC1C;;;;;;0BAGH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,yOAAa;wCAAC,WAAU;;;;;;;;;;;8CAE3B,8OAAC;8CACC,cAAA,8OAAC;wCAAG,WAAU;kDAAgD;;;;;;;;;;;;;;;;;;;;;;kCAKpE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,iIAAI;gCAAC,WAAU;;kDACd,8OAAC,uIAAU;wCAAC,WAAU;kDACpB,cAAA,8OAAC,sIAAS;4CAAC,WAAU;;8DACnB,8OAAC,0MAAI;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;kDAIhC,8OAAC,wIAAW;wCAAC,WAAU;kDACpB,kCACC,8OAAC;4CAAI,WAAU;sDAAyB;;;;;mDACtC,SAAS,MAAM,KAAK,kBACtB,8OAAC;4CAAI,WAAU;sDAAyB;;;;;mDAExC,SAAS,GAAG,CAAC,CAAC,wBACZ,8OAAC;gDAEC,SAAS,IAAM,mBAAmB,QAAQ,EAAE;gDAC5C,WAAW,CAAC,iDAAiD,EAC3D,oBAAoB,QAAQ,EAAE,GAC1B,2DACA,wDACJ;0DAEF,cAAA,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;;8EACC,8OAAC;oEAAI,WAAU;8EAAuB,QAAQ,IAAI;;;;;;8EAClD,8OAAC;oEAAI,WAAU;8EACZ,QAAQ,KAAK,GAAG,CAAC,SAAS,EAAE,QAAQ,KAAK,EAAE,GAAG;;;;;;;;;;;;sEAGnD,8OAAC,mIAAK;4DAAC,WAAU;sEACd,QAAQ,KAAK;;;;;;;;;;;;+CAhBb,QAAQ,EAAE;;;;;;;;;;;;;;;;0CAyBzB,8OAAC,iIAAI;gCAAC,WAAU;;kDACd,8OAAC,uIAAU;wCAAC,WAAU;kDACpB,cAAA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,sIAAS;oDAAC,WAAU;8DAClB,eAAe,QAAQ;;;;;;gDAEzB,eAAe,uBACd,8OAAC,mIAAK;oDAAC,WAAU;;wDAAkE;wDAC5E,cAAc,KAAK;;;;;;;;;;;;;;;;;;kDAKhC,8OAAC,wIAAW;wCAAC,WAAU;;0DACrB,8OAAC;gDAAI,WAAU;0DACZ,kCACC,8OAAC;oDAAI,WAAU;8DAAyB;;;;;2DACtC,SAAS,MAAM,KAAK,kBACtB,8OAAC;oDAAI,WAAU;8DAAyB;;;;;yEAExC,8OAAC;oDAAI,WAAU;;wDACZ,SAAS,GAAG,CAAC,CAAC;4DACb,MAAM,SAAS,iBAAiB,QAAQ,MAAM,KAAK;4DACnD,qBACE,8OAAC;gEAEC,WAAW,CAAC,oDAAoD,EAC9D,SACI,mEACA,0DACJ;;kFAEF,8OAAC;wEAAI,WAAU;;0FACb,8OAAC;gFAAK,WAAU;0FAA8B,QAAQ,QAAQ;;;;;;0FAC9D,8OAAC;0FACE,IAAI,KAAK,QAAQ,SAAS,EAAE,kBAAkB,CAAC,EAAE,EAAE;oFAClD,MAAM;oFACN,QAAQ;gFACV;;;;;;;;;;;;kFAGJ,8OAAC;wEAAE,WAAU;kFAAuC,QAAQ,OAAO;;;;;;;+DAhB9D,QAAQ,EAAE;;;;;wDAmBrB;sEACA,8OAAC;4DAAI,KAAK;;;;;;;;;;;;;;;;;0DAKhB,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;;0EACb,8OAAC,yIAAQ;gEACP,OAAO;gEACP,UAAU,CAAC,QAAU,SAAS,MAAM,MAAM,CAAC,KAAK;gEAChD,aAAY;gEACZ,WAAU;gEACV,WAAW,CAAC;oEACV,IAAI,MAAM,GAAG,KAAK,WAAW,CAAC,MAAM,OAAO,IAAI,MAAM,OAAO,GAAG;wEAC7D,MAAM,cAAc;wEACpB;oEACF;gEACF;;;;;;0EAEF,8OAAC;gEAAI,WAAU;;kFACb,8OAAC;;;;;kFACD,8OAAC,qIAAM;wEACL,MAAK;wEACL,UAAU,aAAa,CAAC,MAAM,IAAI;wEAClC,SAAS;wEACT,WAAU;;0FAEV,8OAAC,0MAAI;gFAAC,WAAU;;;;;;4EACf,YAAY,eAAe;;;;;;;;;;;;;;;;;;;oDAIjC,uBACC,8OAAC;wDAAI,WAAU;kEAA6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS9D"}}]
}
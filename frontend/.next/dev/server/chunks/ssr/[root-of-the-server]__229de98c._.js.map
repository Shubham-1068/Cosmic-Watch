{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/OrbitPath.tsx"],"sourcesContent":["'use client'\n\nimport { useMemo } from 'react'\nimport * as THREE from 'three'\n\ninterface OrbitPathProps {\n  radius: number\n  color: string\n  opacity?: number\n}\n\nexport default function OrbitPath({ radius, color, opacity = 0.3 }: OrbitPathProps) {\n  const lineGeometry = useMemo(() => {\n    const points: THREE.Vector3[] = []\n    const segments = 128\n\n    for (let i = 0; i <= segments; i++) {\n      const angle = (i / segments) * Math.PI * 2\n      points.push(\n        new THREE.Vector3(\n          Math.cos(angle) * radius,\n          0,\n          Math.sin(angle) * radius\n        )\n      )\n    }\n\n    const geometry = new THREE.BufferGeometry().setFromPoints(points)\n    return geometry\n  }, [radius])\n\n  return (\n    <line geometry={lineGeometry}>\n      <lineBasicMaterial color={color} transparent opacity={opacity} />\n    </line>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,UAAU,EAAE,MAAM,EAAE,KAAK,EAAE,UAAU,GAAG,EAAkB;IAChF,MAAM,eAAe,IAAA,gNAAO,EAAC;QAC3B,MAAM,SAA0B,EAAE;QAClC,MAAM,WAAW;QAEjB,IAAK,IAAI,IAAI,GAAG,KAAK,UAAU,IAAK;YAClC,MAAM,QAAQ,AAAC,IAAI,WAAY,KAAK,EAAE,GAAG;YACzC,OAAO,IAAI,CACT,IAAI,0JAAa,CACf,KAAK,GAAG,CAAC,SAAS,QAClB,GACA,KAAK,GAAG,CAAC,SAAS;QAGxB;QAEA,MAAM,WAAW,IAAI,iKAAoB,GAAG,aAAa,CAAC;QAC1D,OAAO;IACT,GAAG;QAAC;KAAO;IAEX,qBACE,8OAAC;QAAK,UAAU;kBACd,cAAA,8OAAC;YAAkB,OAAO;YAAO,WAAW;YAAC,SAAS;;;;;;;;;;;AAG5D"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/AsteroidVisualizer.tsx"],"sourcesContent":["'use client'\n\nimport { Canvas } from '@react-three/fiber'\nimport { PerspectiveCamera, OrbitControls, Stars, Html, Sphere } from '@react-three/drei'\nimport { useRef, useMemo } from 'react'\nimport { useFrame } from '@react-three/fiber'\nimport * as THREE from 'three'\nimport OrbitPath from './OrbitPath'\nimport { Asteroid as AsteroidType } from '@/types/asteroid'\n\ninterface AsteroidVisualizerProps {\n  asteroid?: AsteroidType\n  asteroids?: AsteroidType[]\n  selectedId?: string | null\n  autoRotate?: boolean\n}\n\nfunction Asteroid({\n  asteroid,\n  position = [0, 0, 0],\n  isSelected = false,\n  freeze = false,\n}: {\n  asteroid?: AsteroidVisualizerProps['asteroid']\n  position?: [number, number, number]\n  isSelected?: boolean\n  freeze?: boolean\n}) {\n  const meshRef = useRef<THREE.Mesh>(null)\n\n  const hazardColors = {\n    low: '#4ADE80',\n    medium: '#F59E0B',\n    high: '#F87171',\n  }\n\n  const color = asteroid?.hazardLevel ? hazardColors[asteroid.hazardLevel] : '#60A5FA'\n  const size = asteroid?.diameter ? Math.max(0.03, asteroid.diameter / 2000) : 0.06\n\n  return (\n    <mesh ref={meshRef} castShadow position={position} scale={isSelected ? 1.6 : 1}>\n      <sphereGeometry args={[size, 8, 8]} />\n      <meshStandardMaterial\n        color={color}\n        emissive={color}\n        emissiveIntensity={isSelected ? 0.9 : 0.25}\n        metalness={0.1}\n        roughness={0.6}\n      />\n    </mesh>\n  )\n}\n\n// Small wrapper to rotate asteroid when not frozen\nfunction AsteroidInstance({ asteroid, position, isSelected, freeze }: { asteroid: AsteroidVisualizerProps['asteroid'] | undefined, position: [number, number, number], isSelected: boolean, freeze: boolean }) {\n  const ref = useRef<THREE.Group>(null)\n  useFrame((state, delta) => {\n    if (freeze || !ref.current) return\n    ref.current.rotation.y += delta * 0.4\n    ref.current.rotation.x += delta * 0.1\n  })\n\n  return (\n    <group ref={ref} position={position}>\n      <Asteroid asteroid={asteroid} isSelected={isSelected} freeze={freeze} />\n      {isSelected && (\n        <mesh rotation={[Math.PI / 2, 0, 0]}>\n          <ringGeometry args={[Math.max(0.25, (asteroid?.diameter || 50) / 2000 + 0.15), Math.max(0.28, (asteroid?.diameter || 50) / 2000 + 0.2), 64]} />\n          <meshBasicMaterial color=\"#FFFF00\" transparent opacity={0.25} side={THREE.DoubleSide} />\n        </mesh>\n      )}\n      {/* small label for every asteroid */}\n      {asteroid && (\n        <Html position={[0, (asteroid.diameter || 50) / 2000 + 0.06, 0]} distanceFactor={8} center>\n          <div className=\"pointer-events-none text-[10px] text-muted-foreground bg-black/30 px-1 rounded\">\n            {asteroid.name.length > 12 ? asteroid.name.slice(0, 12) + 'â€¦' : asteroid.name}\n          </div>\n        </Html>\n      )}\n    </group>\n  )\n}\n\nfunction Earth() {\n  const meshRef = useRef<THREE.Mesh>(null)\n\n  const earthTexture = useMemo(() => {\n    const canvas = document.createElement('canvas')\n    canvas.width = 512\n    canvas.height = 512\n    const ctx = canvas.getContext('2d')!\n\n    // Create a simple Earth representation\n    ctx.fillStyle = '#1e3a8a'\n    ctx.fillRect(0, 0, 512, 512)\n\n    // Add continents\n    ctx.fillStyle = '#10b981'\n    ctx.beginPath()\n    ctx.arc(150, 200, 80, 0, Math.PI * 2)\n    ctx.fill()\n\n    ctx.beginPath()\n    ctx.arc(350, 150, 60, 0, Math.PI * 2)\n    ctx.fill()\n\n    ctx.beginPath()\n    ctx.arc(300, 350, 70, 0, Math.PI * 2)\n    ctx.fill()\n\n    return new THREE.CanvasTexture(canvas)\n  }, [])\n\n  return (\n    <mesh ref={meshRef} castShadow>\n      <sphereGeometry args={[1, 64, 64]} />\n      <meshPhongMaterial map={earthTexture} shininess={5} />\n    </mesh>\n  )\n}\n\nfunction Scene({ asteroid, asteroids, selectedId, autoRotate }: AsteroidVisualizerProps) {\n  const freeze = Boolean(asteroid) && !autoRotate\n  const list = (asteroids && asteroids.length > 0) ? asteroids : undefined\n\n  // generate demo asteroids if none provided\n  const demo = useMemo(() => {\n    if (list) return list\n    return [\n      { id: 'demo-1', name: 'Demo A', diameter: 40, velocity: 12, distance: 2000000, hazardLevel: 'low' as const, is_potentially_hazardous_asteroid: false, estimatedDiameter: { kilometers: { estimated_diameter_min: 30, estimated_diameter_max: 40 } }, close_approach_data: [] },\n      { id: 'demo-2', name: 'Demo B', diameter: 70, velocity: 18, distance: 5000000, hazardLevel: 'medium' as const, is_potentially_hazardous_asteroid: false, estimatedDiameter: { kilometers: { estimated_diameter_min: 60, estimated_diameter_max: 70 } }, close_approach_data: [] },\n      { id: 'demo-3', name: 'Demo C', diameter: 120, velocity: 25, distance: 12000000, hazardLevel: 'high' as const, is_potentially_hazardous_asteroid: true, estimatedDiameter: { kilometers: { estimated_diameter_min: 100, estimated_diameter_max: 120 } }, close_approach_data: [] },\n      { id: 'demo-4', name: 'Demo D', diameter: 30, velocity: 10, distance: 8000000, hazardLevel: 'low' as const, is_potentially_hazardous_asteroid: false, estimatedDiameter: { kilometers: { estimated_diameter_min: 20, estimated_diameter_max: 30 } }, close_approach_data: [] },\n    ]\n  }, [list])\n\n  // compute positions for asteroids around earth\n  const positions = useMemo(() => {\n    return demo.map((a, i) => {\n      const r = Math.min(8, Math.max(2, Math.sqrt((a.distance || 1000000) / 1000000)))\n      const angle = (i / demo.length) * Math.PI * 2\n      return [Math.cos(angle) * r, Math.sin(angle) * r, (i % 3) - 1]\n    })\n  }, [demo])\n\n  return (\n    <>\n      <PerspectiveCamera makeDefault position={[0, 0, asteroid ? 8 : 5]} />\n      <OrbitControls\n        enableZoom={true}\n        enablePan={true}\n        autoRotate={!freeze}\n        autoRotateSpeed={2}\n      />\n\n      <Stars radius={100} depth={50} count={1000} factor={4} />\n\n      {/* Lighting */}\n      <ambientLight intensity={0.5} />\n      <pointLight position={[10, 10, 10]} intensity={1} />\n      <pointLight position={[-10, -10, -10]} intensity={0.3} />\n\n      {/* Earth in center */}\n      <group position={[0, 0, 0]}>\n        <Earth />\n        <mesh position={[0, 0, 0]}>\n          <sphereGeometry args={[1.02, 64, 64]} />\n          <meshBasicMaterial wireframe color=\"#00FFFF\" transparent opacity={0.2} />\n        </mesh>\n      </group>\n\n      {/* All asteroids */}\n      <group>\n        {demo.map((a, i) => (\n          <AsteroidInstance\n            key={a.id}\n            asteroid={a}\n            position={positions[i] as [number, number, number]}\n            isSelected={selectedId === a.id}\n            freeze={freeze}\n          />\n        ))}\n      </group>\n\n      {/* Orbital paths */}\n      <group>\n        <OrbitPath radius={1.5} color=\"#00FFFF\" opacity={0.15} />\n        <OrbitPath radius={3} color=\"#00FF00\" opacity={0.1} />\n        <OrbitPath radius={5} color=\"#FFA500\" opacity={0.08} />\n        {asteroid && asteroid.distance && <OrbitPath radius={Math.sqrt(asteroid.distance / 1000000)} color=\"#FF0000\" opacity={0.2} />}\n      </group>\n\n      {/* Info label pinned to selected asteroid */}\n      {asteroid && (() => {\n        const targetId = selectedId || asteroid.id\n        const idx = demo.findIndex(d => d.id === targetId)\n        const pos = idx >= 0 ? positions[idx] : [0, 0, 0]\n        const labelPos: [number, number, number] = [pos[0], pos[1] + 0.5, pos[2]]\n        return (\n          <>\n            <Html position={labelPos} distanceFactor={6} center>\n              <div className=\"bg-black/90 border border-primary px-3 py-2 rounded-lg text-xs whitespace-nowrap pointer-events-none\">\n                <div className=\"text-primary font-semibold\">{asteroid.name}</div>\n                <div className=\"text-secondary text-[10px] mt-1\">\n                  Distance: {asteroid.distance ? (asteroid.distance / 1000000).toFixed(2) : '0'}M km\n                </div>\n                <div className=\"text-secondary text-[10px]\">\n                  Velocity: {asteroid.velocity ? asteroid.velocity.toFixed(1) : '0'} km/s\n                </div>\n              </div>\n            </Html>\n            {/* pointer line from label to asteroid */}\n            {idx >= 0 && (\n              <mesh position={[(pos[0] + labelPos[0]) / 2, (pos[1] + labelPos[1]) / 2, (pos[2] + labelPos[2]) / 2]}>\n                <cylinderGeometry args={[0.01, 0.01, Math.max(0.1, Math.hypot(labelPos[0] - pos[0], labelPos[1] - pos[1], labelPos[2] - pos[2])), 6]} />\n                <meshBasicMaterial color=\"#60A5FA\" transparent opacity={0.9} />\n              </mesh>\n            )}\n          </>\n        )\n      })()}\n    </>\n  )\n}\n\nexport default function AsteroidVisualizer({ asteroid, asteroids, selectedId, autoRotate }: AsteroidVisualizerProps) {\n  return (\n    <div className=\"w-full h-full rounded-lg overflow-hidden bg-gradient-to-br from-background to-card/50 border border-primary/20\">\n      <Canvas dpr={[1, 2]}>\n        <Scene asteroid={asteroid} asteroids={asteroids} selectedId={selectedId} autoRotate={autoRotate} />\n      </Canvas>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 683, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/lib/api.ts"],"sourcesContent":["/**\n * API Integration Module\n * Handles all communication with the backend running on localhost:8000\n */\n\nconst API_BASE_URL = 'http://localhost:8000'\n\n// Helper function for making authenticated requests\nasync function apiCall(\n  endpoint: string,\n  options: RequestInit = {}\n): Promise<Response> {\n  const token = localStorage.getItem('token')\n  const headers: HeadersInit = {\n    'Content-Type': 'application/json',\n    ...options.headers,\n  }\n\n  if (token) {\n    headers['Authorization'] = token\n  }\n\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      ...options,\n      headers,\n    })\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}))\n      throw new Error(errorData.message || `API error: ${response.status}`)\n    }\n\n    return response\n  } catch (error) {\n    console.error('[v0] API call failed:', {\n      endpoint,\n      error: error instanceof Error ? error.message : 'Unknown error',\n    })\n    throw error\n  }\n}\n\n/**\n * Authentication APIs\n */\nexport const authAPI = {\n  async register(data: { name: string; email: string; password: string }) {\n    const response = await fetch(`${API_BASE_URL}/auth/register`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data),\n    })\n    if (!response.ok) {\n      const errorData = await response.json()\n      throw new Error(errorData.message || 'Registration failed')\n    }\n    return response.json()\n  },\n\n  async login(data: { email: string; password: string }) {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data),\n    })\n    if (!response.ok) {\n      const errorData = await response.json()\n      throw new Error(errorData.message || 'Login failed')\n    }\n    return response.json()\n  },\n\n  logout() {\n    localStorage.removeItem('token')\n    localStorage.removeItem('userId')\n  },\n}\n\n/**\n * NEO Feed APIs\n */\nexport const feedAPI = {\n  async getAll() {\n    const response = await apiCall('/feed')\n    const data = await response.json()\n\n    // Normalize backend shapes:\n    // - Some backends return { near_earth_objects: [...] }\n    // - Others return an array of simplified objects\n    let items: any[] = []\n\n    if (Array.isArray(data)) {\n      items = data\n    } else if (data && Array.isArray(data.near_earth_objects)) {\n      items = data.near_earth_objects\n    }\n\n    // Map simplified backend fields to frontend expected NEO schema\n    const normalized = items.map(item => ({\n      id: item.id || item.neoId || String(item.id),\n      name: item.name || item.full_name || item.designation || 'Unknown',\n      estimatedDiameter: {\n        kilometers: {\n          estimated_diameter_min: item.estimated_diameter_min || item.diameter_km || 0,\n          estimated_diameter_max: item.estimated_diameter_max || item.diameter_km || item.estimated_diameter || 0,\n        },\n      },\n      close_approach_data: [\n        {\n          miss_distance: {\n            kilometers: item.miss_distance_km || item.close_approach_km || (item.miss_distance && item.miss_distance.kilometers) || '0',\n          },\n          relative_velocity: {\n            kilometers_per_second: item.velocity_kms || (item.relative_velocity && item.relative_velocity.kilometers_per_second) || '0',\n          },\n        },\n      ],\n      is_potentially_hazardous_asteroid: item.hazardous === true || item.is_potentially_hazardous_asteroid === true || item.hazardous === 'true' || false,\n      // keep raw fields for debugging/advanced uses\n      __raw: item,\n    }))\n\n    return { near_earth_objects: normalized }\n  },\n\n  async getById(neoId: string) {\n    const response = await apiCall(`/feed/${neoId}`)\n    const data = await response.json()\n\n    // If backend returns array or object, find matching id\n    const items = Array.isArray(data) ? data : data?.near_earth_objects || []\n    const found = items.find((i: any) => String(i.id) === String(neoId) || String(i.neoId) === String(neoId))\n\n    if (!found) return null\n\n    const normalized = {\n      id: found.id || found.neoId || String(found.id),\n      name: found.name || found.full_name || 'Unknown',\n      estimatedDiameter: {\n        kilometers: {\n          estimated_diameter_min: found.estimated_diameter_min || found.diameter_km || 0,\n          estimated_diameter_max: found.estimated_diameter_max || found.diameter_km || found.estimated_diameter || 0,\n        },\n      },\n      close_approach_data: [\n        {\n          miss_distance: { kilometers: found.miss_distance_km || '0' },\n          relative_velocity: { kilometers_per_second: found.velocity_kms || '0' },\n        },\n      ],\n      is_potentially_hazardous_asteroid: found.hazardous === true || found.is_potentially_hazardous_asteroid === true || false,\n      __raw: found,\n    }\n\n    return normalized\n  },\n}\n\n/**\n * Alerts/Watchlist APIs\n */\nexport const alertsAPI = {\n  async getWatchlist(): Promise<string[]> {\n    const response = await apiCall('/alerts/watchlist')\n    const data = await response.json()\n\n    if (Array.isArray(data)) {\n      return data\n        .map(item =>\n          typeof item === 'string' || typeof item === 'number'\n            ? String(item)\n            : String(item?.neoId || item?.asteroidId || item?.id || '')\n        )\n        .filter(id => id.length > 0)\n    }\n\n    const list =\n      data?.watchlist ||\n      data?.watched ||\n      data?.ids ||\n      data?.neoIds ||\n      []\n\n    return Array.isArray(list)\n      ? list\n          .map((item: any) =>\n            typeof item === 'string' || typeof item === 'number'\n              ? String(item)\n              : String(item?.neoId || item?.asteroidId || item?.id || '')\n          )\n          .filter((id: string) => id.length > 0)\n      : []\n  },\n  async addToWatchlist(\n    neoId: string,\n    alertDistanceKm = 20000000,\n    alertDaysBefore = 7\n  ) {\n    const response = await apiCall('/alerts/watch', {\n      method: 'POST',\n      body: JSON.stringify({ neoId, alertDistanceKm, alertDaysBefore }),\n    })\n    return response.json()\n  },\n\n  async removeFromWatchlist(neoId: string) {\n    const response = await apiCall(`/alerts/unwatch/${neoId}`, {\n      method: 'POST',\n    })\n    return response.json()\n  },\n\n  async getNotifications() {\n    const response = await apiCall('/alerts/notifications')\n    return response.json()\n  },\n\n  async markNotificationRead(notificationId: string) {\n    const response = await apiCall(`/alerts/notifications/${notificationId}/read`, {\n      method: 'POST',\n    })\n    return response.json()\n  },\n}\n\n/**\n * Data transformation helpers\n */\nexport const dataHelpers = {\n  /**\n   * Calculate hazard level based on asteroid properties\n   */\n  getHazardLevel(asteroid: {\n    is_potentially_hazardous_asteroid: boolean\n    estimatedDiameter?: {\n      kilometers?: {\n        estimated_diameter_max?: number\n      }\n    }\n    close_approach_data?: Array<{\n      miss_distance?: {\n        kilometers?: string\n      }\n    }>\n  }): 'low' | 'medium' | 'high' {\n    if (!asteroid.close_approach_data || asteroid.close_approach_data.length === 0) {\n      return 'low'\n    }\n\n    const distance = asteroid.close_approach_data[0].miss_distance?.kilometers\n      ? parseFloat(asteroid.close_approach_data[0].miss_distance.kilometers)\n      : Infinity\n    const diameter = asteroid.estimatedDiameter?.kilometers?.estimated_diameter_max || 0\n\n    if (asteroid.is_potentially_hazardous_asteroid && distance < 20000000) {\n      return 'high'\n    }\n    if (distance < 50000000 && diameter > 100) {\n      return 'medium'\n    }\n    return 'low'\n  },\n\n  /**\n   * Format distance in kilometers to millions of kilometers\n   */\n  formatDistance(kilometers: string | number): string {\n    const km = typeof kilometers === 'string' ? parseFloat(kilometers) : kilometers\n    const millions = km / 1000000\n    return `${millions.toFixed(2)} M km`\n  },\n\n  /**\n   * Format velocity from km/s\n   */\n  formatVelocity(kms: string | number): string {\n    const kmh = typeof kms === 'string' ? parseFloat(kms) * 3600 : kms * 3600\n    return `${(kmh / 3600).toFixed(2)} km/s`\n  },\n\n  /**\n   * Format diameter in kilometers\n   */\n  formatDiameter(km: number): string {\n    return `${km.toFixed(2)} km`\n  },\n\n  /**\n   * Parse close approach date\n   */\n  parseApproachDate(dateString: string): Date {\n    return new Date(dateString)\n  },\n\n  /**\n   * Get next closest approach\n   */\n  getNextCloseApproach(\n    closeApproachData: Array<{ close_approach_date: string }>\n  ): { close_approach_date: string } | null {\n    if (!closeApproachData || closeApproachData.length === 0) {\n      return null\n    }\n    return closeApproachData[0]\n  },\n}\n\n/**\n * Local storage helpers for persistent data\n */\nexport const storageHelpers = {\n  setToken(token: string) {\n    localStorage.setItem('token', token)\n  },\n\n  getToken(): string | null {\n    return localStorage.getItem('token')\n  },\n\n  setUserId(userId: string) {\n    localStorage.setItem('userId', userId)\n  },\n\n  getUserId(): string | null {\n    return localStorage.getItem('userId')\n  },\n\n  clearAuth() {\n    localStorage.removeItem('token')\n    localStorage.removeItem('userId')\n  },\n\n  isAuthenticated(): boolean {\n    return !!this.getToken()\n  },\n}\n\n/**\n * Validation helpers\n */\nexport const validationHelpers = {\n  isValidEmail(email: string): boolean {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    return emailRegex.test(email)\n  },\n\n  isValidPassword(password: string): boolean {\n    return password.length >= 6\n  },\n\n  isValidName(name: string): boolean {\n    return name.trim().length > 0\n  },\n\n  validateRegistration(data: {\n    name: string\n    email: string\n    password: string\n    confirmPassword: string\n  }): { valid: boolean; errors: string[] } {\n    const errors: string[] = []\n\n    if (!this.isValidName(data.name)) {\n      errors.push('Name is required')\n    }\n\n    if (!this.isValidEmail(data.email)) {\n      errors.push('Valid email is required')\n    }\n\n    if (!this.isValidPassword(data.password)) {\n      errors.push('Password must be at least 6 characters')\n    }\n\n    if (data.password !== data.confirmPassword) {\n      errors.push('Passwords do not match')\n    }\n\n    return {\n      valid: errors.length === 0,\n      errors,\n    }\n  },\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 979, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/Downloads/asteroid-monitoring-dashboard/components/Homepage.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useMemo } from 'react'\r\nimport Image from 'next/image'\r\n\r\nimport { useRouter } from 'next/navigation'\r\nimport AsteroidVisualizer from '@/components/AsteroidVisualizer'\r\nimport { feedAPI, dataHelpers } from '@/lib/api'\r\nimport { Asteroid } from '@/types/asteroid'\r\nimport { ArrowRight } from 'lucide-react'\r\n\r\nexport default function Page() {\r\n    const router = useRouter()\r\n    const [asteroids, setAsteroids] = useState<Asteroid[]>([])\r\n    const [selectedAsteroid, setSelectedAsteroid] = useState<Asteroid | null>(null)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const fetchAsteroids = async () => {\r\n            try {\r\n                setIsLoading(true)\r\n                const data = await feedAPI.getAll()\r\n                const items = (data.near_earth_objects || []) as unknown as Asteroid[]\r\n                setAsteroids(items)\r\n                if (items.length > 0) {\r\n                    setSelectedAsteroid(items[0])\r\n                }\r\n            } catch (err) {\r\n                console.error('Failed to fetch asteroids:', err)\r\n            } finally {\r\n                setIsLoading(false)\r\n            }\r\n        }\r\n\r\n        fetchAsteroids()\r\n    }, [])\r\n\r\n    const asteroidsProcessed = useMemo(() => {\r\n        return asteroids.map(a => ({\r\n            ...a,\r\n            diameter: a.estimatedDiameter?.kilometers?.estimated_diameter_max || 50,\r\n            velocity: a.close_approach_data?.[0]?.relative_velocity?.kilometers_per_second\r\n                ? parseFloat(a.close_approach_data[0].relative_velocity.kilometers_per_second)\r\n                : 15,\r\n            distance: a.close_approach_data?.[0]?.miss_distance?.kilometers\r\n                ? parseFloat(a.close_approach_data[0].miss_distance.kilometers)\r\n                : 1000000,\r\n            hazardLevel: dataHelpers.getHazardLevel(a),\r\n        })) as Asteroid[]\r\n    }, [asteroids])\r\n\r\n    const selectedProcessed = useMemo(() => {\r\n        if (!selectedAsteroid) return undefined\r\n        return {\r\n            ...selectedAsteroid,\r\n            diameter: selectedAsteroid.estimatedDiameter?.kilometers?.estimated_diameter_max || 50,\r\n            velocity: selectedAsteroid.close_approach_data?.[0]?.relative_velocity?.kilometers_per_second\r\n                ? parseFloat(selectedAsteroid.close_approach_data[0].relative_velocity.kilometers_per_second)\r\n                : 15,\r\n            distance: selectedAsteroid.close_approach_data?.[0]?.miss_distance?.kilometers\r\n                ? parseFloat(selectedAsteroid.close_approach_data[0].miss_distance.kilometers)\r\n                : 1000000,\r\n            hazardLevel: dataHelpers.getHazardLevel(selectedAsteroid),\r\n        } as Asteroid\r\n    }, [selectedAsteroid])\r\n    return (\r\n        <div className=\"w-full h-screen bg-gradient-to-br from-background via-background to-card/30 flex items-center justify-center relative overflow-hidden\">\r\n            <div className=\"absolute top-4 left-4 z-50 bg-transparent\">\r\n                <Image src=\"/images/logo.png\" alt=\"Logo\" width={66} height={66} className=\"object-contain\" />\r\n            </div>\r\n            <button onClick={() => router.push('/login')} className=\"fixed top-7 right-4 z-50 cursor-pointer bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg flex items-center gap-2 font-semibold\">Get Started <ArrowRight /></button>\r\n            {!isLoading ? (\r\n                <AsteroidVisualizer\r\n                    asteroid={selectedProcessed}\r\n                    asteroids={asteroidsProcessed}\r\n                    selectedId={selectedAsteroid?.id}\r\n                    autoRotate={true}\r\n                />\r\n            ) : (\r\n\r\n                <div className=\"mt-6 flex flex-col items-center gap-2\">\r\n                    <p className=\"text-white font-mono text-md tracking-[0.3em] uppercase\">Scanning Deep Space</p>\r\n                    <div className=\"flex gap-1\">\r\n                        <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\" />\r\n                        <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\" style={{ animationDelay: '100ms' }} />\r\n                        <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\" style={{ animationDelay: '200ms' }} />\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AACA;AAEA;AATA;;;;;;;;AAWe,SAAS;IACpB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAkB;IAC1E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACN,MAAM,iBAAiB;YACnB,IAAI;gBACA,aAAa;gBACb,MAAM,OAAO,MAAM,qHAAO,CAAC,MAAM;gBACjC,MAAM,QAAS,KAAK,kBAAkB,IAAI,EAAE;gBAC5C,aAAa;gBACb,IAAI,MAAM,MAAM,GAAG,GAAG;oBAClB,oBAAoB,KAAK,CAAC,EAAE;gBAChC;YACJ,EAAE,OAAO,KAAK;gBACV,QAAQ,KAAK,CAAC,8BAA8B;YAChD,SAAU;gBACN,aAAa;YACjB;QACJ;QAEA;IACJ,GAAG,EAAE;IAEL,MAAM,qBAAqB,IAAA,gNAAO,EAAC;QAC/B,OAAO,UAAU,GAAG,CAAC,CAAA,IAAK,CAAC;gBACvB,GAAG,CAAC;gBACJ,UAAU,EAAE,iBAAiB,EAAE,YAAY,0BAA0B;gBACrE,UAAU,EAAE,mBAAmB,EAAE,CAAC,EAAE,EAAE,mBAAmB,wBACnD,WAAW,EAAE,mBAAmB,CAAC,EAAE,CAAC,iBAAiB,CAAC,qBAAqB,IAC3E;gBACN,UAAU,EAAE,mBAAmB,EAAE,CAAC,EAAE,EAAE,eAAe,aAC/C,WAAW,EAAE,mBAAmB,CAAC,EAAE,CAAC,aAAa,CAAC,UAAU,IAC5D;gBACN,aAAa,yHAAW,CAAC,cAAc,CAAC;YAC5C,CAAC;IACL,GAAG;QAAC;KAAU;IAEd,MAAM,oBAAoB,IAAA,gNAAO,EAAC;QAC9B,IAAI,CAAC,kBAAkB,OAAO;QAC9B,OAAO;YACH,GAAG,gBAAgB;YACnB,UAAU,iBAAiB,iBAAiB,EAAE,YAAY,0BAA0B;YACpF,UAAU,iBAAiB,mBAAmB,EAAE,CAAC,EAAE,EAAE,mBAAmB,wBAClE,WAAW,iBAAiB,mBAAmB,CAAC,EAAE,CAAC,iBAAiB,CAAC,qBAAqB,IAC1F;YACN,UAAU,iBAAiB,mBAAmB,EAAE,CAAC,EAAE,EAAE,eAAe,aAC9D,WAAW,iBAAiB,mBAAmB,CAAC,EAAE,CAAC,aAAa,CAAC,UAAU,IAC3E;YACN,aAAa,yHAAW,CAAC,cAAc,CAAC;QAC5C;IACJ,GAAG;QAAC;KAAiB;IACrB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,wIAAK;oBAAC,KAAI;oBAAmB,KAAI;oBAAO,OAAO;oBAAI,QAAQ;oBAAI,WAAU;;;;;;;;;;;0BAE9E,8OAAC;gBAAO,SAAS,IAAM,OAAO,IAAI,CAAC;gBAAW,WAAU;;oBAA4J;kCAAY,8OAAC,gOAAU;;;;;;;;;;;YAC1O,CAAC,0BACE,8OAAC,4IAAkB;gBACf,UAAU;gBACV,WAAW;gBACX,YAAY,kBAAkB;gBAC9B,YAAY;;;;;qCAIhB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAE,WAAU;kCAA0D;;;;;;kCACvE,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;gCAAgD,OAAO;oCAAE,gBAAgB;gCAAQ;;;;;;0CAChG,8OAAC;gCAAI,WAAU;gCAAgD,OAAO;oCAAE,gBAAgB;gCAAQ;;;;;;;;;;;;;;;;;;;;;;;;AAMxH"}}]
}